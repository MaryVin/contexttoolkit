<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_19) on Tue Dec 14 11:25:52 EST 2010 -->
<TITLE>
DiscovererMediator
</TITLE>

<META NAME="date" CONTENT="2010-12-14">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DiscovererMediator";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../context/arch/discoverer/DiscovererDescription.html" title="class in context.arch.discoverer"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?context/arch/discoverer/DiscovererMediator.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DiscovererMediator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
context.arch.discoverer</FONT>
<BR>
Class DiscovererMediator</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>context.arch.discoverer.DiscovererMediator</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>DiscovererMediator</B><DT>extends java.lang.Object</DL>
</PRE><map id="APIVIZ" name="APIVIZ">
<area shape="rect" id="node1" href="DiscovererMediator.html" title="DiscovererMediator" alt="" coords="5,6,136,34"/>
</map>

<CENTER><IMG SRC="DiscovererMediator.png" USEMAP="#APIVIZ" BORDER="0"></CENTER>



<P>
This mediator allows to handle the dialog between the discoverer and 
 the DiscovererDataModel, the LeasesKeeper.
 It is able to store components into the database, to update and remove them.
 It handles queries and subscription queries.
 It asks the discoverer to check the components' liveliness
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#useLogFile">useLogFile</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boolean to keep a logfile</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#DiscovererMediator(context.arch.discoverer.Discoverer, boolean)">DiscovererMediator</A></B>(<A HREF="../../../context/arch/discoverer/Discoverer.html" title="class in context.arch.discoverer">Discoverer</A>&nbsp;discoverer,
                   boolean&nbsp;keepLogFile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates new DiscovererMediator</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../context/arch/util/Error.html" title="class in context.arch.util">Error</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#add(context.arch.discoverer.ComponentDescription, context.arch.discoverer.lease.Lease)">add</A></B>(<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&nbsp;comp,
    <A HREF="../../../context/arch/discoverer/lease/Lease.html" title="class in context.arch.discoverer.lease">Lease</A>&nbsp;lease)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method allows to register a ComponentDescription object</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#addToLog(context.arch.discoverer.ComponentDescription)">addToLog</A></B>(<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&nbsp;comp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a component description to the log file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#exists(java.lang.String)">exists</A></B>(java.lang.String&nbsp;componentIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return true if the component is registered by the discoverer</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#findComponents(context.arch.discoverer.query.AbstractQueryItem)">findComponents</A></B>(<A HREF="../../../context/arch/discoverer/query/AbstractQueryItem.html" title="class in context.arch.discoverer.query">AbstractQueryItem</A>&lt;?,?&gt;&nbsp;query)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets an AbstractQueryObject and returns a array with for each index
 of registered components a value yes/no to indicate if this component
 fits the query or not

 TODO : complete the search to remove the widget included in server: USEFUL?? --who?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#getComponentDescription(java.lang.String)">getComponentDescription</A></B>(java.lang.String&nbsp;componentIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the ComponentDescription of a registered component</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#handleIndependentReply(context.arch.comm.clients.IndependentCommunication)">handleIndependentReply</A></B>(<A HREF="../../../context/arch/comm/clients/IndependentCommunication.html" title="class in context.arch.comm.clients">IndependentCommunication</A>&nbsp;independentCommunication)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overrides the method that handle independent Reply.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../context/arch/util/Error.html" title="class in context.arch.util">Error</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#remove(java.lang.String)">remove</A></B>(java.lang.String&nbsp;compId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes a component from the discoverer base</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#removeFromLog(context.arch.discoverer.ComponentDescription)">removeFromLog</A></B>(<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&nbsp;comp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the information that a component is removed from the database into
 the log file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#removeFromLog(java.lang.String, context.arch.discoverer.ComponentDescription)">removeFromLog</A></B>(java.lang.String&nbsp;header,
              <A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&nbsp;comp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the remove information into the log file
 TODO: currently disabled till a more stable log format replaces the flat file storage</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../context/arch/comm/DataObject.html" title="class in context.arch.comm">DataObject</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#search(context.arch.discoverer.query.AbstractQueryItem)">search</A></B>(<A HREF="../../../context/arch/discoverer/query/AbstractQueryItem.html" title="class in context.arch.discoverer.query">AbstractQueryItem</A>&lt;?,?&gt;&nbsp;query)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Take a query and returns the corresponding (multiple) components</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#sendLeaseEndNotificationTo(java.util.ArrayList)">sendLeaseEndNotificationTo</A></B>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;listOfComponents)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method allows to send a lease end notification to each
 component whose lease ends.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a printable version of this object: the database content, the
 leases.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../context/arch/util/Error.html" title="class in context.arch.util">Error</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#update(context.arch.discoverer.ComponentDescription, context.arch.discoverer.lease.Lease)">update</A></B>(<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&nbsp;component,
       <A HREF="../../../context/arch/discoverer/lease/Lease.html" title="class in context.arch.discoverer.lease">Lease</A>&nbsp;lease)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the description of a component and its lease</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../context/arch/util/Error.html" title="class in context.arch.util">Error</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../context/arch/discoverer/DiscovererMediator.html#updateLease(java.lang.String, context.arch.discoverer.lease.Lease)">updateLease</A></B>(java.lang.String&nbsp;compId,
            <A HREF="../../../context/arch/discoverer/lease/Lease.html" title="class in context.arch.discoverer.lease">Lease</A>&nbsp;lease)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates a lease for a registered component</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="useLogFile"><!-- --></A><H3>
useLogFile</H3>
<PRE>
public boolean <B>useLogFile</B></PRE>
<DL>
<DD>Boolean to keep a logfile
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DiscovererMediator(context.arch.discoverer.Discoverer, boolean)"><!-- --></A><H3>
DiscovererMediator</H3>
<PRE>
public <B>DiscovererMediator</B>(<A HREF="../../../context/arch/discoverer/Discoverer.html" title="class in context.arch.discoverer">Discoverer</A>&nbsp;discoverer,
                          boolean&nbsp;keepLogFile)</PRE>
<DL>
<DD>Creates new DiscovererMediator
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>discoverer</CODE> - The discoverer object<DD><CODE>keppLogFile</CODE> - If true, the log file is updated</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="add(context.arch.discoverer.ComponentDescription, context.arch.discoverer.lease.Lease)"><!-- --></A><H3>
add</H3>
<PRE>
public <A HREF="../../../context/arch/util/Error.html" title="class in context.arch.util">Error</A> <B>add</B>(<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&nbsp;comp,
                 <A HREF="../../../context/arch/discoverer/lease/Lease.html" title="class in context.arch.discoverer.lease">Lease</A>&nbsp;lease)</PRE>
<DL>
<DD>This method allows to register a ComponentDescription object
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>comp</CODE> - the ComponentDescription object<DD><CODE>lease</CODE> - The lease specified for this ComponentDescripion object
<DT><B>Returns:</B><DD>Error</DL>
</DD>
</DL>
<HR>

<A NAME="updateLease(java.lang.String, context.arch.discoverer.lease.Lease)"><!-- --></A><H3>
updateLease</H3>
<PRE>
public <A HREF="../../../context/arch/util/Error.html" title="class in context.arch.util">Error</A> <B>updateLease</B>(java.lang.String&nbsp;compId,
                         <A HREF="../../../context/arch/discoverer/lease/Lease.html" title="class in context.arch.discoverer.lease">Lease</A>&nbsp;lease)</PRE>
<DL>
<DD>Updates a lease for a registered component
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>compId</CODE> - The id of the component<DD><CODE>lease</CODE> - The new Lease object
<DT><B>Returns:</B><DD>Error</DL>
</DD>
</DL>
<HR>

<A NAME="search(context.arch.discoverer.query.AbstractQueryItem)"><!-- --></A><H3>
search</H3>
<PRE>
public <A HREF="../../../context/arch/comm/DataObject.html" title="class in context.arch.comm">DataObject</A> <B>search</B>(<A HREF="../../../context/arch/discoverer/query/AbstractQueryItem.html" title="class in context.arch.discoverer.query">AbstractQueryItem</A>&lt;?,?&gt;&nbsp;query)</PRE>
<DL>
<DD>Take a query and returns the corresponding (multiple) components
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>query</CODE> - 
<DT><B>Returns:</B><DD>DataObject Contains the component descriptions of the component 
 matching the query</DL>
</DD>
</DL>
<HR>

<A NAME="findComponents(context.arch.discoverer.query.AbstractQueryItem)"><!-- --></A><H3>
findComponents</H3>
<PRE>
public java.util.Collection&lt;<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&gt; <B>findComponents</B>(<A HREF="../../../context/arch/discoverer/query/AbstractQueryItem.html" title="class in context.arch.discoverer.query">AbstractQueryItem</A>&lt;?,?&gt;&nbsp;query)</PRE>
<DL>
<DD>Gets an AbstractQueryObject and returns a array with for each index
 of registered components a value yes/no to indicate if this component
 fits the query or not

 TODO : complete the search to remove the widget included in server: USEFUL?? --who?
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>query</CODE> - The abstract query object
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD>Returns a printable version of this object: the database content, the
 leases.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>String</DL>
</DD>
</DL>
<HR>

<A NAME="remove(java.lang.String)"><!-- --></A><H3>
remove</H3>
<PRE>
public <A HREF="../../../context/arch/util/Error.html" title="class in context.arch.util">Error</A> <B>remove</B>(java.lang.String&nbsp;compId)</PRE>
<DL>
<DD>Removes a component from the discoverer base
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>compId</CODE> - The ComponentDescription's id
<DT><B>Returns:</B><DD>Error</DL>
</DD>
</DL>
<HR>

<A NAME="update(context.arch.discoverer.ComponentDescription, context.arch.discoverer.lease.Lease)"><!-- --></A><H3>
update</H3>
<PRE>
public <A HREF="../../../context/arch/util/Error.html" title="class in context.arch.util">Error</A> <B>update</B>(<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&nbsp;component,
                    <A HREF="../../../context/arch/discoverer/lease/Lease.html" title="class in context.arch.discoverer.lease">Lease</A>&nbsp;lease)</PRE>
<DL>
<DD>Update the description of a component and its lease
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>component</CODE> - The component to update<DD><CODE>lease</CODE> - The new Lease
<DT><B>Returns:</B><DD>Error</DL>
</DD>
</DL>
<HR>

<A NAME="getComponentDescription(java.lang.String)"><!-- --></A><H3>
getComponentDescription</H3>
<PRE>
public <A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A> <B>getComponentDescription</B>(java.lang.String&nbsp;componentIndex)</PRE>
<DL>
<DD>Returns the ComponentDescription of a registered component
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stringOrIndex</CODE> - The component index or id
<DT><B>Returns:</B><DD>ComponentDescription</DL>
</DD>
</DL>
<HR>

<A NAME="sendLeaseEndNotificationTo(java.util.ArrayList)"><!-- --></A><H3>
sendLeaseEndNotificationTo</H3>
<PRE>
public void <B>sendLeaseEndNotificationTo</B>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;listOfComponents)</PRE>
<DL>
<DD>This method allows to send a lease end notification to each
 component whose lease ends. The reply received by the component
 either renews the lease or confirms it.
 The list of components is sent back to the discoverer that take
 care of sending a message to them
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="exists(java.lang.String)"><!-- --></A><H3>
exists</H3>
<PRE>
public boolean <B>exists</B>(java.lang.String&nbsp;componentIndex)</PRE>
<DL>
<DD>Return true if the component is registered by the discoverer
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>componentIndex</CODE> - The component index or id
<DT><B>Returns:</B><DD>boolean</DL>
</DD>
</DL>
<HR>

<A NAME="addToLog(context.arch.discoverer.ComponentDescription)"><!-- --></A><H3>
addToLog</H3>
<PRE>
public void <B>addToLog</B>(<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&nbsp;comp)</PRE>
<DL>
<DD>Adds a component description to the log file
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>comp</CODE> - The component description</DL>
</DD>
</DL>
<HR>

<A NAME="removeFromLog(context.arch.discoverer.ComponentDescription)"><!-- --></A><H3>
removeFromLog</H3>
<PRE>
public void <B>removeFromLog</B>(<A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&nbsp;comp)</PRE>
<DL>
<DD>Adds the information that a component is removed from the database into
 the log file
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>comp</CODE> - The component description to remove</DL>
</DD>
</DL>
<HR>

<A NAME="removeFromLog(java.lang.String, context.arch.discoverer.ComponentDescription)"><!-- --></A><H3>
removeFromLog</H3>
<PRE>
public void <B>removeFromLog</B>(java.lang.String&nbsp;header,
                          <A HREF="../../../context/arch/discoverer/ComponentDescription.html" title="class in context.arch.discoverer">ComponentDescription</A>&nbsp;comp)</PRE>
<DL>
<DD>Adds the remove information into the log file
 TODO: currently disabled till a more stable log format replaces the flat file storage
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>header</CODE> - The header information<DD><CODE>comp</CODE> - The component description removed</DL>
</DD>
</DL>
<HR>

<A NAME="handleIndependentReply(context.arch.comm.clients.IndependentCommunication)"><!-- --></A><H3>
handleIndependentReply</H3>
<PRE>
public void <B>handleIndependentReply</B>(<A HREF="../../../context/arch/comm/clients/IndependentCommunication.html" title="class in context.arch.comm.clients">IndependentCommunication</A>&nbsp;independentCommunication)</PRE>
<DL>
<DD>Overrides the method that handle independent Reply. If the independent
 communication has been sent by this class, this class handles it. Otherwise
 the super class handleIndependeReply is called.

 Catches:
 - Discoverer+Registerer+Ping message

 TO DO: restore the lease?? not useful because the next time the discoverer
 will check the component, the component will send its lease
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../context/arch/discoverer/DiscovererDescription.html" title="class in context.arch.discoverer"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?context/arch/discoverer/DiscovererMediator.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DiscovererMediator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
